<ion-content>
    <div class="logo-box">
        <img id="img" src="assets/imgs/login-logo.png" width="100%" alt="">
    </div>
     <ion-segment [(ngModel)]="toggle" (ionChange)="segmentChanged()">
        <ion-segment-button value="false">
            通行证登录
        </ion-segment-button>
         <ion-segment-button value="true">
            账号登录
        </ion-segment-button>
    </ion-segment> 
    <div class="login-con">
        <div [formGroup]="myForm" *ngIf="toggle == 'true'">
            <ion-item class="login-item">
                <ion-icon item-left class="iconfont icon-yonghu"></ion-icon>
                <ion-input type="text" placeholder="用户名/工作邮箱/手机号" formControlName="loginCode"></ion-input>
            </ion-item>
            <ion-item class="login-item">
                <ion-icon item-left class="iconfont icon-shurumima"></ion-icon>
                <ion-input id="password" type="password" placeholder="请输入密码" formControlName="userPsw"></ion-input>
                <ion-icon id="login_icon_yanjing" class="iconfont small icon-biyan" item-end (click)="changePwd($event)"></ion-icon>
            </ion-item>
            <ion-item class="login-item" *ngIf="showcode">
                <ion-icon item-left class="iconfont icon-yanzhengma"></ion-icon>
                <ion-input type="text" placeholder="请输入验证码" formControlName="validcode"></ion-input>
                <canvas id="ValidCode1" (click)="drawPic('ValidCode1')" width="100" height="45" item-end></canvas>
            </ion-item>
        </div>
        <div [formGroup]="myArpForm" *ngIf="toggle == 'false'">
            <ion-item class="login-item">
                <ion-icon item-left class="iconfont icon-yonghu"></ion-icon>
                <ion-input type="text" placeholder="账号" formControlName="arpNumber"></ion-input>
            </ion-item>
            <ion-item class="login-item">
                <ion-icon item-left class="iconfont icon-shurumima"></ion-icon>
                <ion-input  type="password" placeholder="密码" formControlName="arpPwd"></ion-input>
            </ion-item>
        </div>
        
        <button *ngIf="toggle == 'true'" ion-button block color="{{myForm.valid == false && clickStatus == true?'cyan-blue':''}}" class="login-btn" (click)="clickStatus == true ? logIn():''">
            登录
        </button>
        <button *ngIf="toggle == 'false'" ion-button block color="{{myArpForm.valid == false && clickStatus == true?'cyan-blue':''}}" class="login-btn" (click)="clickStatus == true ? logInArp():''">
            登录
        </button>
    
        <div class="password-select">
            <ion-item>
                <ion-label>记住密码</ion-label>
                <ion-checkbox [(ngModel)]="remember"></ion-checkbox>
            </ion-item>
            <p (click)="forgetpwd()" *ngIf="toggle == 'true'">忘记密码</p>
        </div>
    </div>
    <div id="haha"></div>
</ion-content>
<!-- <ion-footer class="bottom-con">
    青云软件有限公司协同办公平台
</ion-footer> -->
